from z80cpu import cpu
from mem import genmem

c = cpu()
ram = genmem(0x0000, 0x1000, False)
c.addmem(ram)

ram.load(0x000, [0x31, 0x00, 0x08, 0x21, 0x02, 0x00, 0x06, 0x03, 0xCD, 0x00, 0x01, 0x10, 0xFB, 0x76])
ram.load(0x100, [0x4F, 0xAE, 0x23, 0xC9])

while not c.halted:
    print(c.step())

print(cpu.r)
